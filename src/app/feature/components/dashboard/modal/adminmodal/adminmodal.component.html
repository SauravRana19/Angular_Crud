<h1 ngClass="headertext">Admin Form</h1>
<button mat-button ngClass="closebtn" (click)="this.dialogRef.close()">
    X
</button>
<form [formGroup]="adminform" ngClass="form" (ngSubmit)="register()">
    <mat-form-field appearance="outline">
        <mat-label for="FullName">FullName </mat-label>
        <input matInput id="FullName" formControlName="name" [errorStateMatcher]="matcher" />
        <mat-error class="alert-danger" *ngIf="
        adminform?.invalid &&
        adminform.get('name')?.hasError('required')
          ">
            Required
        </mat-error>
        <mat-error class="alert-danger" *ngIf="
        adminform?.invalid &&
        adminform.get('name')?.hasError('pattern')
          ">
            First Name Invalid
        </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label for="email">Email</mat-label>
        <input matInput id="email" formControlName="email" [errorStateMatcher]="matcher" />
        <mat-error class="alert-danger" *ngIf="
            adminform?.invalid && adminform.get('email')?.hasError('required')
          ">
            Required
        </mat-error>
        <mat-error class="alert-danger" *ngIf="
            adminform?.invalid && adminform.get('email')?.hasError('pattern')
          ">
            Email Invalid
        </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" ngClass="password">
        <mat-label for="password">Password </mat-label>
        <input matInput id="password" [type]="Phide ? 'password' : 'text'" formControlName="password"
            [errorStateMatcher]="matcher" />
        <button mat-icon-button matSuffix type="button" (click)="Phide = !Phide" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="Phide">
            <mat-icon>{{ Phide ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
        <mat-error class="alert-danger" *ngIf="
            adminform?.invalid &&
            adminform.get('password')?.hasError('required')
          ">
            Required
        </mat-error>
        <mat-error class="alert-danger" *ngIf="
            adminform?.invalid &&
            adminform.get('password')?.hasError('pattern')
          ">
            Password Invalid
        </mat-error>
    </mat-form-field>
    <div formArrayName='address'>
        <div *ngFor="let addres of address().controls; let i=index">
            <div  [formGroupName]="i">
                <mat-form-field appearance="outline">
                    <mat-label for="city">City</mat-label>
                    <input matInput  type="text" formControlName="city" [errorStateMatcher]="matcher" />
                    <mat-error class="alert-danger" *ngIf="
                     addres.invalid &&
                     addres.get('city')?.hasError('required')
                  ">
                        Required
                    </mat-error>
                </mat-form-field>

            </div>
        </div>
    </div>
    <button mat-raised-button color="primary" class="btn" type="button" (click)="createItem()">add address</button>

</form>